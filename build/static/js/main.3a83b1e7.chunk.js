(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,n){e.exports=n(42)},40:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(10),i=n(11),r=n(14),l=n(12),o=n(15),u=n(0),c=n.n(u),s=n(13),m=n.n(s),h=n(2),f=n.n(h),d="https://mighty-garden-46682.herokuapp.com/api/persons",p={getAll:function(){return f.a.get(d).then(function(e){return e.data})},create:function(e){return f.a.post(d,e).then(function(e){return e.data})},update:function(e,t){return f.a.put("".concat(d,"/").concat(e),t).then(function(e){return e.data})},deleteObject:function(e){return f.a.delete("".concat(d,"/").concat(e)).then(function(e){return e.data})}},w=(n(40),function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(r.a)(this,Object(l.a)(t).call(this,e))).addPerson=function(e){e.preventDefault();var t={name:n.state.newName,number:n.state.newNumber},a=n.state.persons.filter(function(e){return e.name===t.name})[0];a?window.confirm(t.name+" on jo luettelossa, korvataanko vanha numero uudella?")&&p.update(a.id,t).then(function(e){p.getAll().then(function(e){n.setState({persons:e,newName:"",newNumber:"",notification:"P\xe4ivitettiin "+t.name}),setTimeout(function(){n.setState({notification:null})},3e3)})}):p.create(t).then(function(e){n.setState({persons:n.state.persons.concat(e),newName:"",newNumber:"",notification:"Lis\xe4ttiin "+t.name}),setTimeout(function(){n.setState({notification:null})},3e3)})},n.handleNameChange=function(e){n.setState({newName:e.target.value})},n.handleNumberChange=function(e){n.setState({newNumber:e.target.value})},n.handleFilterChange=function(e){n.setState({newFilter:e.target.value})},n.handleDeletePerson=function(e,t){var a=n.state.persons.filter(function(t){return t.id===e})[0];p.deleteObject(e).then(function(e){p.getAll().then(function(e){n.setState({persons:e,notification:"Poistettiin "+a.name}),setTimeout(function(){n.setState({notification:null})},3e3)})})},n.state={persons:[],newName:"",newNumber:"",newFilter:"",notification:null},n}return Object(o.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;p.getAll().then(function(t){e.setState({persons:t})})}},{key:"render",value:function(){var e=this,t=""===this.state.newFilter?this.state.persons:this.state.persons.filter(function(t){return t.name.toLowerCase().includes(e.state.newFilter.toLowerCase())});return c.a.createElement("div",null,c.a.createElement("h2",null,"Puhelinluettelo"),c.a.createElement(b,{message:this.state.notification}),c.a.createElement(v,{handleFilterChange:this.handleFilterChange,newFilter:this.newFilter}),c.a.createElement("form",{onSubmit:this.addPerson},c.a.createElement("h2",null,"Lis\xe4\xe4 uusi"),c.a.createElement("div",null,"nimi: ",c.a.createElement("input",{value:this.state.newName,onChange:this.handleNameChange}),c.a.createElement("br",null),"numero: ",c.a.createElement("input",{value:this.state.newNumber,onChange:this.handleNumberChange})),c.a.createElement("div",null,c.a.createElement("button",{type:"submit"},"lis\xe4\xe4"))),c.a.createElement("h2",null,"Numerot"),c.a.createElement("ul",null,t.map(function(t){return c.a.createElement(E,{key:t.id,person:t,handleDeletePerson:e.handleDeletePerson})})))}}]),t}(c.a.Component)),v=function(e){var t=e.newFilter,n=e.handleFilterChange;return c.a.createElement("div",null,c.a.createElement("form",null,c.a.createElement("div",null,"rajaa n\xe4ytett\xe4vi\xe4: ",c.a.createElement("input",{value:t,onChange:n}))))},E=function(e){var t=e.person,n=e.handleDeletePerson;return c.a.createElement("div",null,c.a.createElement("li",null,t.name," ",t.number," ",c.a.createElement("button",{onClick:function(){window.confirm("Poistetaanko "+t.name+"?")&&n(t.id)}},"poista")))},b=function(e){var t=e.message;return null===t?null:c.a.createElement("div",{className:"notification"},t)};m.a.render(c.a.createElement(w,null),document.getElementById("root"))}},[[16,2,1]]]);
//# sourceMappingURL=main.3a83b1e7.chunk.js.map